<!DOCTYPE html>
<html>
<head>
  <title>Pembukuan Es Oyen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="font-family: sans-serif; padding: 20px;">

  <h2>Pembukuan Es Oyen</h2>
  <p>Masukkan data transaksi harian</p>

  <label>Tanggal:</label><br>
  <input type="date" id="tanggal"><br><br>

  <label>Keterangan:</label><br>
  <input type="text" id="keterangan" placeholder="Hasil jualan / beli bahan"><br><br>

  <label>Omzet Masuk (Rp):</label><br>
  <input type="number" id="omzet" value="0"><br><br>

  <label>Uang Keluar (Rp):</label><br>
  <input type="number" id="keluar" value="0"><br><br>


  <button id="saveBtn" onclick="saveData()">Simpan</button>

  <p id="status"></p>


<script>
  function kirimData() {
    document.querySelector("button").disabled = true; // Cegah double klik
    
    var data = {
      tanggal: document.getElementById("tanggal").value,
      keterangan: document.getElementById("keterangan").value,
      omzet: parseInt(document.getElementById("omzet").value),
      keluar: parseInt(document.getElementById("keluar").value)
    };

    fetch("https://script.google.com/macros/s/AKfycbyghgIPLuyQFv2jkRsZvYOE7e1kxxs_vzcxihvQN-umTWm4d7babCiY53__bb4OOLU51w/exec", {
      method: "POST",
      body: JSON.stringify(data),
      headers: { "Content-Type": "text/plain;charset=utf-8" }
    })
    .then(res => {
      window.location.href = "thanks.html"; // Redirect setelah sukses
    })
    .catch(err => {
      document.getElementById("status").innerText = "Gagal mengirim!";
      document.querySelector("button").disabled = false;
    });
  }
</script>
</body>
</html>
